(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf635be8"],{"589f":function(t,e,s){"use strict";s("fa4b")},"879c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("form",{staticClass:"regist-form",attrs:{autocomplete:"off",action:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._m(0),t._m(1),s("div",{staticClass:"regist-form__div regist-form__input-account"},[s("label",{attrs:{for:""}},[t._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.account,expression:"account",modifiers:{trim:!0}}],attrs:{type:"text",name:"account",placeholder:"請輸入帳號",required:""},domProps:{value:t.account},on:{change:t.inputWarning,input:function(e){e.target.composing||(t.account=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"text-limits"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.wrongAccount,expression:"wrongAccount"}],staticClass:"text-limit"},[t._v(" 請輸入英文字母或數字 ")])])]),s("div",{staticClass:"regist-form__div regist-form__input-name"},[s("label",{attrs:{for:""}},[t._v("名稱")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{name:"name",type:"text",placeholder:"請輸入使用者名稱",required:""},domProps:{value:t.name},on:{change:t.inputWarning,input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"text-limits text-limit-length"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.wrongName,expression:"wrongName"}],staticClass:"text-limit"},[t._v(" 請輸入英文姓名（可包含 - 與空白，不包含其它符號） ")]),s("span",{staticClass:"text-length",class:{waring:t.isExceed}},[t._v(" "+t._s(t.textWarning(t.name.length))+" "+t._s(t.name.length)+"/50")])])]),s("div",{staticClass:"regist-form__div regist-form__input-email"},[s("label",{attrs:{for:""}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],attrs:{name:"email",type:"email",placeholder:"請輸入 Email",autocomplete:"new-email",required:""},domProps:{value:t.email},on:{change:t.inputWarning,input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"text-limits"},[t.wrongEmail?s("span",{staticClass:"text-limit"},[t._v(" 請輸入正確 email 格式 ")]):t._e()])]),s("div",{staticClass:"regist-form__div regist-form__input-password"},[s("label",{attrs:{for:""}},[t._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{name:"password",type:"password",placeholder:"請設定密碼",required:""},domProps:{value:t.password},on:{change:t.inputWarning,input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"text-limits"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.wrongPassword,expression:"wrongPassword"}],staticClass:"text-limit"},[t._v(" 請輸入英文字母或數字 ")])])]),s("div",{staticClass:"regist-form__div regist-form__input-password-check"},[s("label",{attrs:{for:""}},[t._v("密碼確認")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.passwordCheck,expression:"passwordCheck",modifiers:{trim:!0}}],attrs:{type:"password",name:"passwordCheck",placeholder:"請再次輸入密碼",required:""},domProps:{value:t.passwordCheck},on:{change:t.inputWarning,input:function(e){e.target.composing||(t.passwordCheck=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("div",{staticClass:"text-limits"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.wrongPasswordCheck,expression:"wrongPasswordCheck"}],staticClass:"text-limit"},[t._v(" 請輸入英文字母或數字 ")])])]),s("button",{staticClass:"btn btn-regist",attrs:{type:"submit",disabled:t.isExceed}},[t._v(" "+t._s(t.isProcessing?"處理中":"註冊")+" ")]),s("div",{staticClass:"cancel-regist"},[s("p",[s("router-link",{staticClass:"frontstage-signin",attrs:{to:"/signin"}},[t._v(" 取消 ")])],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{staticClass:"regist-form__logo-img",attrs:{src:s("e906"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("h1",{staticClass:"regist-form__title"},[t._v("建立你的帳號")])])}],r=s("1da1"),n=(s("96cf"),s("b0c0"),s("d9e2"),s("bf19"),s("ac1f"),s("00b4"),s("498a"),s("7696")),o=s("2fa3"),c={name:"Regist",data:function(){return{account:"",name:"",email:"",password:"",passwordCheck:"",wrongAccount:!1,wrongName:!1,wrongEmail:!1,wrongPassword:!1,wrongPasswordCheck:!1,isProcessing:!1,isExceed:!1,isWarning:!1}},methods:{handleSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.account&&t.name&&t.email&&t.password&&t.passwordCheck){e.next=3;break}return o["a"].fire({icon:"warning",title:"輸入欄位不可為空白"}),e.abrupt("return");case 3:if(t.password===t.passwordCheck){e.next=6;break}return o["a"].fire({icon:"warning",title:"密碼不一致，請再次輸入"}),e.abrupt("return");case 6:return e.prev=6,t.isProcessing=!0,e.next=10,n["a"].regist({account:t.account,name:t.name,email:t.email,password:t.password,passwordCheck:t.passwordCheck});case 10:if(s=e.sent,a=s.data,"success"===a.status){e.next=14;break}throw new Error(a.data.status);case 14:localStorage.setItem("token",a.data.token),t.$router.push("/signin"),t.isProcessing=!1,e.next=24;break;case 19:e.prev=19,e.t0=e["catch"](6),t.isProcessing=!1,console.log(e.t0.toJSON()),500===e.t0.response.status?o["a"].fire({icon:"warning",title:"此帳戶已重複註冊"}):o["a"].fire({icon:"error",title:"暫時無法註冊，請稍後再試"});case 24:case"end":return e.stop()}}),e,null,[[6,19]])})))()},textWarning:function(t){this.isExceed=t>50},inputWarning:function(){var t=/^[A-Za-z0-9]*$/,e=/^([A-Za-z]{1,}\s?-?)*[A-Za-z]{1,}$/,s=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;t.test(this.account)?this.wrongAccount=!1:this.wrongAccount=!0,e.test(this.name)||""===!this.name.trim()?this.wrongName=!1:this.wrongName=!0,s.test(this.email)||""===this.email.trim()?this.wrongEmail=!1:this.wrongEmail=!0,t.test(this.password)||""===this.password.trim()?this.wrongPassword=!1:this.wrongPassword=!0,t.test(this.passwordCheck)||""===this.passwordCheck.trim()?this.wrongPasswordCheck=!1:this.wrongPasswordCheck=!0,t.test(this.account)&&e.test(this.name)&&s.test(this.email)&&t.test(this.password)&&t.test(this.passwordCheck)?this.isWarning=!1:this.isWarning=!0}},watch:{name:function(){this.textWarning()}}},l=c,m=(s("589f"),s("2877")),u=Object(m["a"])(l,a,i,!1,null,"021e9484",null);e["default"]=u.exports},bf19:function(t,e,s){"use strict";var a=s("23e7"),i=s("c65b");a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},fa4b:function(t,e,s){}}]);
//# sourceMappingURL=chunk-bf635be8.bb60e294.js.map