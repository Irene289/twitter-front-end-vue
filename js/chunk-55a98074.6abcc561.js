(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55a98074"],{"0d81":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 sidebar"},[s("Sidebar")],1),s("div",{staticClass:"col-7 content-container"},[s("div",{staticClass:"title"},[s("img",{staticClass:"title__item ",attrs:{src:r("16a6"),alt:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.visit(t.userId,"user-tweets")}}}),s("div",{staticClass:"title__item user",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.visit(t.userId,"user-tweets")}}},[s("p",{staticClass:"name"},[t._v(t._s(t.userName))]),s("p",{staticClass:"tweet-num"},[t._v(t._s(t.tweetNum+"推文"))])])]),s("div",{staticClass:"nav-container"},[s("NavTab",{scopedSlots:t._u([{key:"nav-item",fn:function(){return[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"follower",params:{id:t.userId}}}},[s("p",{staticClass:"nav-item"},[t._v("追蹤者")])])]},proxy:!0}])}),s("NavTab",{scopedSlots:t._u([{key:"nav-item",fn:function(){return[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"following",params:{id:t.userId}}}},[s("p",{staticClass:"nav-item"},[t._v("正在追隨")])])]},proxy:!0}])})],1),s("div",{staticClass:"scrollbar"},[s("router-view",{attrs:{"initial-followings":t.followings,"initial-followers":t.followers},on:{"after-userfollow":t.afterUserFollow}})],1)]),s("div",{staticClass:"col-3  popular-users"},[s("Popular",{attrs:{"top-users":t.topUsers},on:{"after-follow":t.afterPopularClick}})],1)])])])},a=[],n=r("5530"),i=r("2909"),o=r("1da1"),c=(r("96cf"),r("b0c0"),r("d9e2"),r("4de4"),r("d3b7"),r("2708")),u=r("1602"),l=r("2fa3"),f=r("3b8f"),p=r("5ea5"),w=r("fffa"),d=r("2f62"),v={name:"UserFollow",mixins:[c["d"]],components:{Popular:f["a"],Sidebar:p["a"],NavTab:w["a"]},data:function(){return{userId:8,userName:"",tweetNum:0,followings:[],followers:[],topUsers:[]}},methods:{visit:function(t,e){this.visitUserPage(t,e)},fetchUser:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s,a,n,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].get({id:t});case 3:if(s=r.sent,a=s.data,n=s.statusText,i=a.id,o=a.name,e.userId=i,e.userName=o,e.followings=a.Follower,e.followers=a.Following,"OK"===n){r.next=13;break}throw new Error(n);case 13:r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](0),l["a"].fire({icon:"error",title:"無法載入使用者資訊，請稍後再試"});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()},fetchUserTweets:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s,a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].getTweets({id:t});case 3:if(s=r.sent,a=s.data,n=s.statusText,e.tweetNum=a.length,"OK"===n){r.next=9;break}throw new Error(n);case 9:r.next=16;break;case 11:if(r.prev=11,r.t0=r["catch"](0),500!==r.t0.response.status){r.next=16;break}return e.tweetNum=0,r.abrupt("return");case 16:case"end":return r.stop()}}),r,null,[[0,11]])})))()},fetchTopUsers:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s,a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].getTopUsers({rank:t});case 3:if(s=r.sent,a=s.data,n=s.statusText,e.topUsers=Object(i["a"])(a),e.topUsers=a.filter((function(t){return t.id!==e.currentUser.id})),"OK"===n){r.next=10;break}throw new Error(n);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),l["a"].fire({icon:"error",title:"無法取得人氣用戶，請稍後再試"});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},afterPopularClick:function(){var t=this.$route.params.id;this.fetchUser(t)},afterUserFollow:function(){this.fetchTopUsers(10)}},created:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchUserTweets(t),this.fetchTopUsers(10)},computed:Object(n["a"])({},Object(d["b"])(["currentUser"]))},A=v,m=(r("74e4"),r("2877")),h=Object(m["a"])(A,s,a,!1,null,"23c53fcf",null);e["default"]=h.exports},"16a6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB5SURBVHgB7dfBCYAwEETR0Qoswc6SzreEpAPNQg5R4kGFnct8GMnNBwoi8L7UVtqsnyn5jY9hBYTuCJ8huBnClxGYEEIIIcRXRNTMDUs/7OBW13bZwK/6JYP7aAqGd/EJk0AoQxhhhBEmHkP5r5lhDMRyB1y+EX87AdxCwzt7prpuAAAAAElFTkSuQmCC"},"2c30":function(t,e,r){},"5d3c":function(t,e,r){"use strict";r("2c30")},"74e4":function(t,e,r){"use strict";r("9f8d")},"9f8d":function(t,e,r){},fffa:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"nav__tab"},[r("li",{staticClass:"nav__tab__list__item"},[t._t("nav-item")],2)])},a=[],n=(r("5d3c"),r("2877")),i={},o=Object(n["a"])(i,s,a,!1,null,"a256ae64",null);e["a"]=o.exports}}]);
//# sourceMappingURL=chunk-55a98074.6abcc561.js.map