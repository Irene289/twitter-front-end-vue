(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e927a5d"],{"10bc":function(t,e,r){},"10d5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIDSURBVHgB7ZbLccIwEIZXMoQr6YB0QDowHYQDM2CYCVRAqADogFQAB8ZwC1QQUkFIBXEHcS7M2GApK09g/IplHoYc+C5Yy0r767kLcOXCEJmDrWlFClAEzk0ll1uS0ciI8+fVasGhVHW/KTWy4/ECDhHgNBptznkPA+f9EfgChbSCQtaNhkocpwuEqIEABgfoZ3R9lEgAbzbzjmW9BAeK6NhTdL2/E8vYIM7/V3gZhZtecybo59j2UBbcHQ8F2LXat6IoXBrcVUxUd2IAJZ/Z29hoWhN/hpAuLe92UPCr6ULKYIy2t70TIE47LmsBUgZjFO1KpRgSQCktwJmg2WxYADCWhwtA4RJQaoYEMIAlnAlmWcb2238N6/Wv0Mt3eky8hrfbhn8LGJtDyuCMZ962TwBXlBGkDCaoeUCQH0fTPtN6D0Riwvxx57WFbgEq7EBKiKwIYVFhNrXaa5KEtA8YaImzvw/aI98BzG8tFGDCCaGMlSPtUUYynRqMsT6cCMZ5R4wZGSuuI6ZnkefbcBzPeO+f/vpTWhPirXgXGQwOAPt9ZHU9tq80F9CbmxI54JkWwTOrlSrzkwoQNZwQIWo6SAr6iuBkNpMeZOkWeFlrWi9B1RS750cJEIi6UYgIvpZu+Y2nPTOZzPYZb28BArd0t+0HXOpHt03IGy75IMmSX/l3/AC5j8TyiX1WzgAAAABJRU5ErkJggg=="},"1bf8":function(t,e,r){"use strict";r("2ce0")},2849:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAULSURBVHgB7Vm9bhtHEJ69PSkBlILuUtJdOktAogSyYFOu0oUpU1nsApuBKFgyUkjW0XQMRSQgGqKEdJK6dFLKVDo6sGJYhZUnMMukY4oEBni34x2Sx9v74fGOkk0b4FeQt3u7szO7M7MzcwBjjDHGBw2WZHChYKQsHaYR7GkGLEV9gmFjssXNatVoJKSVtifsDCJLu72aWasYJiRALAHajE/iEqAoyGaqDylTAB7ulUsHUbTyK0YGmNgAwEyfIU3J1DFv8WKcTRkowN37D24zxCr0ZTxA8IBP8eWqYTTVftqE1kf2NhOwGJNOwwYoDtqQSAHy99c3AMHwTTmXilMH1DoMMrwmf7P+xeUOLjg72FWXEwRIe0ghM+VvvTNJpBho3yCgdwzTjNpWsQhJBcivPliSK1TdgayBKHK1yiPTP7bwo5FuWZbBGLsNqhBTfAakmJL5l17m8Yk+pRv+U2qvu7KWYUzbVwVBBsu7W6UqxBWAdsyasF8pXcf6FM+FLaji7sp6gTHYVqgfo8B/VcHkJizvVn6qRtFp29yEvQ/uyTb1Fp8JswktjEBLtwyXB9aIwzxht1KqCoBcrwMhm5R5gmSUGM511LUNKZDYDxsbOAH/7uucX61uJnOR+XtrVdDYkqcTWbFWeWhAApBqWraiCYgLfhUOnIB39+EgKfME3dYNOjmXDmskZZ5AayPiIbiEsv4xAQGkAV1znj2TkywsVYAM3mnbgEUYErSJbku76X8fYgM47Tzpn+jnMCToqEn9pC5fHeTLo6BbKg8ubw48NuDTuWatXLoC7wF+WF1/5bhh2hDVG2n9JknJBnqd9wEeAVSDDdyaI4TKi/8uCBqxvEGdZ3KpMGLcKRiq3ge0IiAAKu7PmrQCRvOuoXEr3WsgCziVoA2gqLvPkIERA72+v+5/H2bEpvvohgGjgsaY4vuFGXjv7+he1Y6upSg6hBGB1nYMuHObByPhcDeK+KT3zLQNGBEk84tKywwbEyqAvP2UiBEzozgF8oBqJMs5Dw1HQgWgWIZy3F7HCE4hblDZ9ybWuebG9e/4FGTosBhn9wl9BWhLLFxbkAT3C4YRK7G/CCgbk3+9Ex8U0mtRxCiuh65HIm9g/2+/dVWyJ3FD9TxRu0/gUS+fPzdff3n95j/g5qZffTGfaZw9q/8FbwGkOjKZ33TaMj1d3tl6aEbNiVXYyq+uH4GSYAuwF/bKj4fOFcLQTWVfQrf+RKqzUy7lBs3TIAYowVZSxBQHfnSZgZ5TN4Ie84NVx0Hs2uidVWNaA3WRTt0nTrUiCmS0vrpRU2ZyM3Fz8VgnQNgrG+ekk06bFrT+s04u4pk6xWLL9OQeDHNJCgkcEuDs9On57NwNecIs013tU9ESX8/N3vpdGnyik3CYl7R6RYR26aVc+iUBmWQCEF6cPjX9QiDHrBTit7hCdHX+T0njs17nEHUjQmIBCEEhIEVCfH59vn52+sffUXOpvI7cPvKozZDME4YSgBAmhKwufz87vwAvntXrYXPaBWMmfgWlVN8pNz7ahCGR6AtNKFP31rJM07bVajJ5KESec7629Pmo0ZTcfxsW4yfBhQUgUD3JtsVJoLYP2L3smDe3lt8FdF3LDVO29ONSBHAgI1ZDqlRUvEQlx2KcCnVcDG0DYSC7mLtx69AW4oqMXtOy6+PuK1KXn2Wp8rudxyUTLhGXegJ+UA4hmN6cnILGRW/sMcYYIxxvAGs/OeIaZw0tAAAAAElFTkSuQmCC"},"2ce0":function(t,e,r){},"67de":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tweet__card"},[r("div",{staticClass:"tweet__card__item"},[t._t("avatar",(function(){return[r("img",{staticClass:"avatar",attrs:{src:"",alt:""}})]}))],2),r("div",{staticClass:"tweet__card__item"},[r("div",{staticClass:"account"},[r("p",{staticClass:"name"},[t._t("name")],2),r("p",{staticClass:"id"},[t._t("id")],2),r("p",{staticClass:"post-time"},[t._v("・"),t._t("post-time")],2)]),r("p",{staticClass:"text"},[t._t("text")],2)])])},s=[],n={},i=n,c=(r("72e3"),r("2877")),o=Object(c["a"])(i,a,s,!1,null,null,null);e["a"]=o.exports},"72e3":function(t,e,r){"use strict";r("10bc")},"7a6a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAyCAYAAADx/eOPAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATCSURBVHgB3Vk/b9tGFH93R7ZFhkJjR/YT1Fk6dGikT1B57OR4CwIbkdEqCAK3pqE2MCAhlgFH8GblEzgdO0UN0A5ZKn8DjR0FJOgQkffyHiUxR4qiqb+h8gME6o53lH73/vDd7wA+IQhYEJVKpfDOvuUogC2YAyhkHzT0Le9tt9ls9mEBzEVm7+fDIkh5B1CX6RFzkUgGdgWILiI+P2/81oEZMROZgIQQR/S1CCsGAvToc9yq19pZ52Qic6/yyLFs+xLWQCKOWUjdSGav+usDQHRpZCH518g1UHS1gGsp/Jl9XqMqCIEO/etvyOrFaeOEgKZ69+Y4La5Syew/PDpF1JWEW30icWZ5Fj3bXShoTVQqbsG3/TLFzE4SMbaSPxiULponvaT5U8lMIRKQoOB0YcXY++mwjEqcCgTH7E8jlEhm7+HhEeVMN9qLXU9Z2xcnbg/WCEo67ijpRP6LNXhbirucik/er/5ylzg2I1MpVdqe9eN5w/0P1ozX/7zqfPvd9yLqduIrtD7/4vXfr/40x0Ysw1lL2fZL6nSM7hfn9do2fGQkWgixZL6PpHmPiByZRFBAzxqoXcgBgjjVeGb2oRCXXIGM2yEZtgoRuWsO9qUqLTNbLQrLt1xe4HGbF96zvgyTVEiGrWJOpIHtdQf7TeCFFRojnoKC0vgIppsVzUEDpY4hhxjGCHbGbbZOUGbBiAw3IkGP0MmbVUwgij8iHQLKfBlbpmjeo9LkOeQYtqfakQ4Bd/gizcYYWqkO5BhBUqJ6MOxAscVZbUgGpVlE9vPsYmMg6GuzzRvEkWVwyxjVhQ0AxXjPbEshHQkbCiF0z2xrTxc2lkwSJslILMAGAFE6ZltK2QvImCUCNRzYBGB056uF7gdkRDToC2bxlltI2mYb+Gzwf2+UmjGa5uStMuQYXBSTCYphh8BAcxvHTMccLJXagRzDtu1ipAPhL74EZILiDcEs9YtD9vkE1WYPoh3wgi9GNotufEY6We4wFCI/vOQ5eY13myEZlo3i1iFhI3exw7vLSBsh3KqEZLh4Y+UwNvMyT+7GqlF8W28qnZGX5rNGjVQZEUnTLHDkgdD96uOtuPxlWoUxUQF4Sm6b7sYrwYQ+pssN9Ql1Zfbxtj6uP0+Q4fJfC1WKE6JVuSJNbe1ulyR/sXslbeunyrP3q+6WEP5VXB4dTWr74J+16k9Wul0IvEFTwEdF+76n1O2kPVeqcH7vkeso7b9MIsRg3ZdM29EI14IkU/PePIdFJqZp3RpUqVV3Excx0/lMst6bDiZqD97cnvVob3gWZF0lnMilEmFk2s+wmkim/Zo1Z8gI9vFZazw+C7Is+984EY4Rdq00IqPfnA3serbvF2nlf4ChqjO1wta+v9t6+qR94zNTT+boHGhguVmU1YVPmzlRSO059GZ2xFDlCa2RhUzKyVxf+3DQepr9TNOCBTEyfWD+/epjqiJUJtf6YA0sTiwpYsezrN2L+mwq0cJk5kFojUkX7VMGO37W+L0Jc2CtZDJZ46TWgzmxNjIp1qBufTCvNUysnMxN1tDCOmg1akupJFZKRkq1Q59TWHJsTMNqLSMS3htLiI1pWGcCWIk1TKyHzAqtYWKpZEgy7cWCfOXWMPEevHY2GuHQHDUAAAAASUVORK5CYII="},"99af":function(t,e,r){"use strict";var a=r("23e7"),s=r("da84"),n=r("d039"),i=r("e8b5"),c=r("861d"),o=r("7b0b"),l=r("07fa"),u=r("8418"),p=r("65f0"),d=r("1dde"),A=r("b622"),f=r("2d00"),g=A("isConcatSpreadable"),w=9007199254740991,m="Maximum allowed index exceeded",v=s.TypeError,k=f>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),x=d("concat"),h=function(t){if(!c(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)},b=!k||!x;a({target:"Array",proto:!0,arity:1,forced:b},{concat:function(t){var e,r,a,s,n,i=o(this),c=p(i,0),d=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?i:arguments[e],h(n)){if(s=l(n),d+s>w)throw v(m);for(r=0;r<s;r++,d++)r in n&&u(c,d,n[r])}else{if(d>=w)throw v(m);u(c,d++,n)}return c.length=d,c}})},f4ef:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"tweet-div"},[a("form",{attrs:{action:""}},[a("img",{attrs:{src:t.currentUser.avatarImg,alt:""}}),a("label",{attrs:{for:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{name:"tweet",placeholder:"有什麼新鮮事？"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("span",{staticClass:"text-length"},[t._v(t._s(t.text.length)+"/140")]),t.isEmpty?t._e():a("span",{staticClass:"text-empty"},[t._v("內容不可空白")]),t.isExceed?a("span",{staticClass:"text-exceed"},[t._v("字數不可超過 140 字")]):t._e(),a("button",{staticClass:"btn tweet-btn",attrs:{disabled:t.isExceed},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.createTweet.apply(null,arguments)}}},[t._v(" 推文 ")])])]),a("div",{staticClass:"tweet-content scrollbar"},t._l(t.tweets,(function(e){return a("UserTweetCard",{key:e.id,scopedSlots:t._u([{key:"avatar",fn:function(){return[a("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.User.id}}}},[a("img",{staticClass:"avatar",attrs:{src:t._f("avatarFilter")(e.User.avatarImg),alt:""}})])]},proxy:!0},{key:"name",fn:function(){return[t._v(" "+t._s(e.User.name)+" ")]},proxy:!0},{key:"id",fn:function(){return[t._v(" @"+t._s(e.User.account)+" ")]},proxy:!0},{key:"post-time",fn:function(){return[t._v(" "+t._s(t._f("fromNow")(e.createdAt))+" ")]},proxy:!0},{key:"text",fn:function(){return[a("router-link",{attrs:{to:{name:"twitter-replies",params:{id:e.id}}}},[a("p",{staticClass:"tweet-content-text"},[t._v(" "+t._s(t._f("tweetFilter")(e.description))+" ")])]),a("div",{staticClass:"icons"},[a("div",{staticClass:"icon-wrapper"},[a("img",{attrs:{src:r("7a6a"),alt:""},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.replyModal(e.id)}}}),a("p",{staticClass:"count"},[t._v(t._s(e.Replies.replyTotal))])]),a("div",{staticClass:"icon-wrapper"},[e.Likes.isLike?a("img",{attrs:{src:r("10d5"),alt:"",disabled:t.likeUnlikeProcessing},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.unlikeTweet(e.id)}}}):a("img",{attrs:{src:r("2849"),alt:"",disabled:t.likeUnlikeProcessing},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.likeTweet(e.id)}}}),a("p",{staticClass:"count"},[t._v(t._s(e.Likes.likeTotal))])])])]},proxy:!0}],null,!0)})})),1),a("div",{staticClass:"container",class:{"d-none":t.dNoneModal}},[a("div",{staticClass:"modal row"},[a("form",{staticClass:"modal-content col-6",attrs:{action:""}},[a("div",{staticClass:"modal-content-cancel"},[a("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCloseBtn.apply(null,arguments)}}},[a("img",{attrs:{src:r("513d"),alt:""}})])]),a("TweetModal",{scopedSlots:t._u([{key:"replytoAvatarImg",fn:function(){return[a("img",{staticClass:"avatar",attrs:{src:t._f("avatarFilter")(t.tweet.User.avatarImg),alt:""}})]},proxy:!0},{key:"replyto",fn:function(){return[a("p",{staticClass:"content-info-name"},[t._v(t._s(t.tweet.User.name))]),a("p",{staticClass:"content-info-account"},[t._v("@"+t._s(t.tweet.User.account))]),a("p",{staticClass:"content-info-time"},[t._v(t._s(t._f("fromNow")(t.tweet.createdAt)))])]},proxy:!0},{key:"replytoAccount",fn:function(){return[t._v(" @"+t._s(t.tweet.User.account)+" ")]},proxy:!0},{key:"replytoText",fn:function(){return[t._v(" "+t._s(t._f("tweetFilter")(t.tweet.description))+" ")]},proxy:!0},{key:"avatarImg",fn:function(){return[a("img",{staticClass:"modal-content-avatar",attrs:{src:t.currentUser.avatarImg,alt:""}})]},proxy:!0},{key:"text",fn:function(){return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textReply,expression:"textReply"}],attrs:{name:"tweet",placeholder:t.placeholder},domProps:{value:t.textReply},on:{input:function(e){e.target.composing||(t.textReply=e.target.value)}}})]},proxy:!0},{key:"alert",fn:function(){return[a("span",{staticClass:"text-reply-length"},[t._v(t._s(t.textReply.length)+"/140")]),t.isModalEmpty?t._e():a("span",{staticClass:"modal-alert warning"},[t._v("內容不可空白")]),t.isModalExceed?a("span",{staticClass:"modal-alert warning"},[t._v("字數不可超過 140 字")]):t._e()]},proxy:!0}])}),a("div",{staticClass:"btn-group"}),a("button",{staticClass:"btn modal-tweet button-reply",attrs:{disabled:t.isProcessing||t.isModalExceed},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleReply(t.tweet.id)}}},[t._v(" "+t._s(t.isProcessing?"處理中":"回覆")+" ")])],1)])])])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title"},[r("h1",[t._v("首頁")])])}],n=r("5530"),i=r("1da1"),c=r("2909"),o=(r("96cf"),r("d9e2"),r("4de4"),r("d3b7"),r("498a"),r("a4d3"),r("e01a"),r("b0c0"),r("99af"),r("d81d"),r("2708")),l=r("67de"),u=r("4287"),p=r("7482"),d=r("2fa3"),A=r("2f62"),f={name:"Twitter",mixins:[o["a"],o["c"],o["b"]],components:{UserTweetCard:l["a"],TweetModal:u["a"]},props:{initialTweets:{type:Array,required:!0}},data:function(){return{text:"",textReply:"",tweets:[],tweet:{},newTweet:{},newReply:{},dNoneModal:!0,isReplyModel:!0,placeholder:"",isProcessing:!1,isEmpty:!0,isExceed:!1,isModalEmpty:!0,isModalExceed:!1,likeUnlikeProcessing:!1}},watch:{text:function(){this.textWarning()},textReply:function(){this.modalWarning()},initialTweets:function(t){this.tweets=Object(c["a"])(t)}},created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.commit("setIsLoading",!0),e.next=4,p["a"].getTweets();case 4:if(r=e.sent,a=r.data,s=r.statusText,"OK"===s){e.next=9;break}throw new Error(s);case 9:t.tweets=a.filter((function(t){return"user"===t.User.role})),t.$store.commit("setIsLoading",!1),e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](0),t.$store.commit("setIsLoading",!1),console.log(e.t0),d["a"].fire({icon:"error",title:"暫時無法取得推文"});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))()},createTweet:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,s,i,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.text){e.next=6;break}return t.isEmpty=!1,e.abrupt("return");case 6:if(""!==t.text.trim()){e.next=9;break}return t.isEmpty=!1,e.abrupt("return");case 9:return t.isProcessing=!0,e.next=12,p["a"].createTweet({description:t.text,UserId:t.currentUser.id});case 12:if(r=e.sent,a=r.data,s=a.data,i=s.id,o=s.description,l=s.UserId,u=s.createdAt,t.newTweet={id:i,description:o,User:{id:l,account:t.currentUser.account,name:t.currentUser.name,avatarImg:t.currentUser.avatarImg},Replies:{replyTotal:0},Likes:{isLike:!1,likeTotal:0},createdAt:u},t.tweets=[Object(n["a"])({},t.newTweet)].concat(Object(c["a"])(t.tweets)),"success"===a.status){e.next=19;break}throw new Error(a.message);case 19:t.text="",t.isEmpty=!0,t.isProcessing=!1,e.next=33;break;case 24:if(e.prev=24,e.t0=e["catch"](0),t.isProcessing=!1,500!==e.t0.response.status){e.next=31;break}return e.abrupt("return");case 31:console.log(e.t0),d["a"].fire({icon:"error",title:"暫時無法推文"});case 33:case"end":return e.stop()}}),e,null,[[0,24]])})))()},handleReply:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,e.textReply){r.next=6;break}return e.isModalEmpty=!1,r.abrupt("return");case 6:if(""!==e.textReply.trim()){r.next=9;break}return e.isModalEmpty=!1,r.abrupt("return");case 9:return e.isProcessing=!0,r.next=12,p["a"].createReply({TweetId:t,comment:e.textReply});case 12:if(a=r.sent,s=a.data,e.tweets=e.tweets.map((function(e){return e.id!==t?e:Object(n["a"])(Object(n["a"])({},e),{},{Replies:Object(n["a"])(Object(n["a"])({},e.Replies),{},{replyTotal:e.Replies.replyTotal+1})})})),"success"===s.status){r.next=19;break}throw new Error(s.message);case 19:d["a"].fire({icon:"success",title:"成功送出回覆"}),e.textReply="",e.isProcessing=!1,e.dNoneModal=!0;case 23:r.next=34;break;case 25:if(r.prev=25,r.t0=r["catch"](0),e.isProcessing=!1,500!==r.t0.response.status){r.next=32;break}return r.abrupt("return");case 32:console.log(r.t0),d["a"].fire({icon:"error",title:"暫時無法回覆推文"});case 34:case"end":return r.stop()}}),r,null,[[0,25]])})))()},likeTweet:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.likeUnlikeProcessing=!0,r.next=4,p["a"].likeTweet({id:t});case 4:if(a=r.sent,s=a.data,"success"===s.status){r.next=8;break}throw new Error(s.status);case 8:e.tweets=e.tweets.map((function(e){return e.id!==t?e:Object(n["a"])(Object(n["a"])({},e),{},{Likes:{isLike:!0,likeTotal:e.Likes.likeTotal+1}})})),e.likeUnlikeProcessing=!1,r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),e.likeUnlikeProcessing=!1,d["a"].fire({icon:"error",title:"無法按讚，請稍後再試"});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},unlikeTweet:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.likeUnlikeProcessing=!0,r.next=4,p["a"].unlikeTweet({id:t});case 4:if(a=r.sent,s=a.data,"success"===s.status){r.next=8;break}throw new Error(s.status);case 8:e.tweets=e.tweets.map((function(e){return e.id!==t?e:Object(n["a"])(Object(n["a"])({},e),{},{Likes:{isLike:!1,likeTotal:e.Likes.likeTotal-1}})})),e.likeUnlikeProcessing=!1,r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),e.likeUnlikeProcessing=!1,d["a"].fire({icon:"error",title:"無法取消讚，請稍後再試"});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},replyModal:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p["a"].getTweet({id:t});case 3:if(a=r.sent,s=a.data,n=a.statusText,"OK"===n){r.next=8;break}throw new Error(n);case 8:e.tweet=s,e.dNoneModal=!e.dNoneModal,e.isReplyModel=!0,e.placeholder="推你的回覆",r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](0),console.log(r.t0),d["a"].fire({icon:"error",title:"暫時無法取得推文"});case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()},handleCloseBtn:function(){this.isModalEmpty=!0,this.dNoneModal=!this.dNoneModal,this.textReply=""},textWarning:function(){this.text.length>140?(this.isExceed=!0,this.isProcessing=!1):(this.isEmpty=!0,this.isExceed=!1)},modalWarning:function(){this.textReply.length>140?(this.isModalExceed=!0,this.isProcessing=!1):(this.isModalEmpty=!0,this.isModalExceed=!1)}},computed:Object(n["a"])({},Object(A["b"])(["currentUser"]))},g=f,w=(r("1bf8"),r("2877")),m=Object(w["a"])(g,a,s,!1,null,"6c6c7baa",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-7e927a5d.d52e14c8.js.map