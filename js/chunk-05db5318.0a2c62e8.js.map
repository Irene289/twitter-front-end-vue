{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/views/Setting.vue?789d","webpack:///src/views/Setting.vue","webpack:///./src/views/Setting.vue?4d6b","webpack:///./src/views/Setting.vue?5205","webpack:///./node_modules/core-js/internals/regexp-get-flags.js","webpack:///./src/views/Setting.vue?f804"],"names":["PROPER_FUNCTION_NAME","PROPER","defineBuiltIn","anObject","$toString","fails","getRegExpFlags","TO_STRING","RegExpPrototype","RegExp","prototype","n$ToString","NOT_GENERIC","call","source","flags","INCORRECT_NAME","name","R","this","pattern","unsafe","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","stopPropagation","preventDefault","handleSubmit","apply","arguments","_m","_v","directives","rawName","value","user","expression","modifiers","domProps","inputWarning","target","composing","$set","trim","$forceUpdate","class","waring","isExceed","_s","textWarning","length","isWarning","isProcessing","staticRenderFns","components","Sidebar","data","id","account","email","wrongAccount","wrongName","wrongEmail","wrongPassword","wrongPasswordCheck","watch","created","beforeRouteUpdate","to","from","next","methods","setUser","userId","re","nameRe","emailRe","Toast","icon","title","formData","password","passwordCheck","userAPI","statusText","console","computed","mapState","component","hasOwn","isPrototypeOf","regExpFlags","module","exports","undefined"],"mappings":"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","file":"js/chunk-05db5318.0a2c62e8.js","sourcesContent":["'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  defineBuiltIn(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var pattern = $toString(R.source);\n    var flags = $toString(getRegExpFlags(R));\n    return '/' + pattern + '/' + flags;\n  }, { unsafe: true });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1 col-lg-2 sidebar\"},[_c('Sidebar')],1),_c('form',{staticClass:\"col-7 col-lg-7 content-container setting-forms\",attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_vm._m(0),_c('div',{staticClass:\"setting-form setting-form__input-account\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.user.account),expression:\"user.account\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"name\":\"account\",\"placeholder\":\"請輸入帳號\",\"required\":\"\"},domProps:{\"value\":(_vm.user.account)},on:{\"change\":_vm.inputWarning,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"account\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"text-limits\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.wrongAccount),expression:\"wrongAccount\"}],staticClass:\"text-limit\"},[_vm._v(\" 請輸入英文字母或數字 \")])])]),_c('div',{staticClass:\"setting-form setting-form__input-name\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.user.name),expression:\"user.name\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"name\":\"name\",\"placeholder\":\"請輸入使用者名稱\",\"required\":\"\"},domProps:{\"value\":(_vm.user.name)},on:{\"change\":_vm.inputWarning,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"text-limits text-limit-length\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.wrongName),expression:\"wrongName\"}],staticClass:\"text-limit\"},[_vm._v(\" 請輸入英文姓名（可包含 - 與空白，不包含其它符號） \")]),_c('span',{staticClass:\"text-length\",class:{ waring: _vm.isExceed }},[_vm._v(\" \"+_vm._s(_vm.textWarning(_vm.user.name.length))+\" \"+_vm._s(_vm.user.name.length)+\"/50\")])])]),_c('div',{staticClass:\"setting-form setting-form__input-email\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.user.email),expression:\"user.email\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"email\",\"name\":\"email\",\"placeholder\":\"請輸入 Email\",\"required\":\"\"},domProps:{\"value\":(_vm.user.email)},on:{\"change\":_vm.inputWarning,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"text-limits\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.wrongEmail),expression:\"wrongEmail\"}],staticClass:\"text-limit\"},[_vm._v(\" 請輸入正確 email 格式 \")])])]),_c('div',{staticClass:\"setting-form setting-form__input-password\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.user.password),expression:\"user.password\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"請設定密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"change\":_vm.inputWarning,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"text-limits\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.wrongPassword),expression:\"wrongPassword\"}],staticClass:\"text-limit\"},[_vm._v(\" 請輸入英文字母或數字 \")])])]),_c('div',{staticClass:\"setting-form setting-form__input-password-check\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.user.passwordCheck),expression:\"user.passwordCheck\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"password\",\"name\":\"passwordCheck\",\"placeholder\":\"請再次輸入密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.user.passwordCheck)},on:{\"change\":_vm.inputWarning,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"passwordCheck\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"text-limits\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.wrongPasswordCheck),expression:\"wrongPasswordCheck\"}],staticClass:\"text-limit\"},[_vm._v(\" 請輸入英文字母或數字 \")])])]),_c('button',{staticClass:\"btn btn-setting\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isExceed || _vm.isWarning}},[_vm._v(\" \"+_vm._s(_vm.isProcessing ? \"處理中\" : \"儲存\")+\" \")])]),_vm._m(1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting-form-title\"},[_c('h1',[_vm._v(\"帳戶設定\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-4 col-lg-3\"},[_c('div',{staticClass:\"space\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <main>\n    <div class=\"container\">\n      <div class=\"row\">\n        <!-- sidebar -->\n        <div class=\"col-1 col-lg-2 sidebar\">\n          <Sidebar />\n        </div>\n\n        <!-- form -->\n        <form\n          class=\"col-7 col-lg-7 content-container setting-forms\"\n          action=\"\"\n          @submit.stop.prevent=\"handleSubmit\"\n        >\n          <div class=\"setting-form-title\">\n            <h1>帳戶設定</h1>\n          </div>\n\n          <div class=\"setting-form setting-form__input-account\">\n            <label for=\"\">帳號</label>\n            <input\n              v-model.trim=\"user.account\"\n              type=\"text\"\n              name=\"account\"\n              placeholder=\"請輸入帳號\"\n              @change=\"inputWarning\"\n              required\n            />\n            <div class=\"text-limits\">\n              <span \n                v-show=\"wrongAccount\"\n                class=\"text-limit\">\n                請輸入英文字母或數字\n              </span>\n            </div>\n          </div>\n\n          <div class=\"setting-form setting-form__input-name\">\n            <label for=\"\">名稱</label>\n            <input\n              v-model.trim=\"user.name\"\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"請輸入使用者名稱\"\n              @change=\"inputWarning\"\n              required\n            />\n            <div class=\"text-limits text-limit-length\">\n              <span \n                v-show=\"wrongName\"\n                class=\"text-limit\">\n                請輸入英文姓名（可包含 - 與空白，不包含其它符號）\n              </span>\n              <span class=\"text-length\" :class=\"{ waring: isExceed }\">\n                {{ textWarning(user.name.length) }}\n                {{ user.name.length }}/50</span\n              >\n            </div>\n          </div>\n\n          <div class=\"setting-form setting-form__input-email\">\n            <label for=\"\">Email</label>\n            <input\n              v-model.trim=\"user.email\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"請輸入 Email\"\n              @change=\"inputWarning\"\n              required\n            />\n            <div class=\"text-limits\">\n              <span \n                v-show=\"wrongEmail\"\n                class=\"text-limit\"\n              >\n                請輸入正確 email 格式\n              </span>\n            </div>\n          </div>\n\n          <div class=\"setting-form setting-form__input-password\">\n            <label for=\"\">密碼</label>\n            <input\n              v-model.trim=\"user.password\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"請設定密碼\"\n              @change=\"inputWarning\"\n              required\n            />\n            <div class=\"text-limits\">\n              <span \n                v-show=\"wrongPassword\"\n                class=\"text-limit\"\n              >\n                請輸入英文字母或數字\n              </span>\n            </div>\n          </div>\n\n          <div class=\"setting-form setting-form__input-password-check\">\n            <label for=\"\">密碼確認</label>\n            <input\n              v-model.trim=\"user.passwordCheck\"\n              type=\"password\"\n              name=\"passwordCheck\"\n              placeholder=\"請再次輸入密碼\"\n              @change=\"inputWarning\"\n              required\n            />\n            <div class=\"text-limits\">\n              <span \n                v-show=\"wrongPasswordCheck\"\n                class=\"text-limit\"\n              >\n                請輸入英文字母或數字\n              </span>\n            </div>\n          </div>\n          <button\n            class=\"btn btn-setting\"\n            type=\"submit\"\n            :disabled=\"isExceed || isWarning\"\n          >\n            {{ isProcessing ? \"處理中\" : \"儲存\" }}\n          </button>\n        </form>\n\n        <!-- blank -->\n        <div class=\"col-4 col-lg-3\">\n          <div class=\"space\"></div>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport Sidebar from \"../components/Sidebar\";\nimport userAPI from \"../apis/user\";\nimport { Toast } from \"../utils/helpers\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"Setting\",\n  components: {\n    Sidebar,\n  },\n  data() {\n    return {\n      user: {\n        id: -1,\n        account: \"\",\n        name: \"\",\n        email: \"\",\n      },\n      wrongAccount: false,\n      wrongName: false,\n      wrongEmail: false,\n      wrongPassword: false,\n      wrongPasswordCheck: false,\n      isProcessing: false,  // 按鈕送出後處理\n      isExceed: false,      // 字數超過按鈕失效\n      isWarning: false      // 字數不合規則按鈕失效\n    };\n  },\n  watch: {\n    user() {\n      this.textWarning()\n    }\n  },\n  created() {\n    if (this.currentUser.id === -1) return;\n    const { id } = this.$route.params;\n    this.setUser(id);\n  },\n  beforeRouteUpdate(to, from, next) {\n    if (this.currentUser.id === -1) return;\n    const { id } = to.params;\n    this.setUser(id);\n    next();\n  },\n  methods: {\n    setUser(userId) {\n      const { id, name, account, email } = this.currentUser;\n      this.user = {\n        id,\n        name,\n        account,\n        email,\n      };\n      if (userId.toString() !== id.toString()) {\n        this.$router.push({ name: \"not-fount\" });\n        return;\n      }\n    },\n    textWarning(length) {\n      length > 50 ? this.isExceed = true : this.isExceed = false\n    },\n    inputWarning() {\n      const re = /^[A-Za-z0-9]*$/\n      const nameRe = /^([A-Za-z]{1,}\\s?-?)*[A-Za-z]{1,}$/\n      const emailRe = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/\n\n      re.test(this.user.account)\n        ? this.wrongAccount = false \n        : this.wrongAccount = true\n\n      nameRe.test(this.user.name)\n        ? this.wrongName = false \n        : this.wrongName = true\n\n      emailRe.test(this.user.email) || this.user.email.trim() === ''\n        ? this.wrongEmail = false \n        : this.wrongEmail = true\n\n      re.test(this.user.password)\n        ? this.wrongPassword = false \n        : this.wrongPassword = true\n\n      re.test(this.user.passwordCheck)\n        ? this.wrongPasswordCheck = false \n        : this.wrongPasswordCheck = true\n        \n      if (re.test(this.user.account) \n        && nameRe.test(this.user.name)\n        && emailRe.test(this.user.email)\n        && re.test(this.user.password)\n        && re.test(this.user.passwordCheck)\n      ) {\n        this.isWarning = false\n      } else {\n        this.isWarning = true\n      }\n    },\n    async handleSubmit() {\n      try {\n        this.isProcessing = true;\n\n        // 必填而未填處理\n        if (\n          !this.user.account ||\n          !this.user.name ||\n          !this.user.email ||\n          !this.user.password ||\n          !this.user.passwordCheck\n        ) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請輸入所有欄位\",\n          });\n          this.isProcessing = false;\n          return;\n        }\n\n        // 密碼錯誤處理\n        if (this.user.password !== this.user.passwordCheck) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"密碼不一致，請再次輸入\",\n          });\n          this.isProcessing = false;\n          return;\n        } \n        // else if (\n        //   this.user.password.includes(\" \") &&\n        //   this.user.passwordCheck.includes(\" \")\n        // ) {\n        //   Toast.fire({\n        //     icon: \"warning\",\n        //     title: \"密碼不可包含空格\",\n        //   });\n        //   this.isProcessing = false;\n        //   return;\n        // }\n\n        const formData = {\n          account: this.user.account,\n          name: this.user.name,\n          email: this.user.email,\n          password: this.user.password,\n          passwordCheck: this.user.passwordCheck,\n        };\n\n        const { data, statusText } = await userAPI.update({\n          userId: this.user.id,\n          formData,\n        });\n\n        if (statusText !== \"OK\") {\n          throw new Error(data.message);\n        } else {\n          Toast.fire({\n            icon: \"success\",\n            title: \"修改完成\",\n          });\n          this.user.password = \"\";\n          this.user.passwordCheck = \"\";\n          this.$store.commit(\"setCurrentUser\", this.user);\n        }\n\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        if (error.response.status === 500) {\n          console.log(error);\n          console.log(error.response);\n          Toast.fire({\n            icon: \"warning\",\n            title: \"account/email 已存在！\",\n          });\n        } else {\n          Toast.fire({\n            icon: \"error\",\n            title: \"無法編輯，請稍後再試\",\n          });\n        }\n      }\n    },\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/basic.scss\";\n\n.content-container {\n  height: 100vh;\n  border-left: 1px solid $border-grey;\n  border-right: 1px solid $border-grey;\n  padding: 0;\n}\n.setting-forms {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: flex-start;\n  align-items: center;\n}\n.setting-form-title {\n  width: 100%;\n  border-bottom: 1px solid $border-grey;\n  h1 {\n    @extend %heading-24;\n    margin: 24px auto 24px 24px;\n  }\n}\n.setting-form {\n  @extend %input-block;\n  width: calc(100% - 2 * 24px);\n  display: flex;\n  flex-flow: column nowrap;\n  margin: 24px 24px 8px 24px;\n  label {\n    @extend %form-label;\n  }\n  input {\n    @extend %form-input;\n    background: $form-input-grey;\n    border: none;\n  }\n  input::placeholder {\n    color: $form-input-placeholder;\n  }\n  &::after {\n    content: \"\";\n    @extend %input-bottom;\n    width: 100%;\n  }\n}\n.text-limits {\n  color: $modal-alert;\n  display: flex;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 14px;\n  padding-top: 4px;\n\n  .text-limit {\n    color: $modal-alert;\n    margin-left: 10px;\n  }\n  .text-length {\n    @extend %form-label;\n    display: inline-block;\n    margin-left: auto;\n    margin-top: -4px;\n  }\n  .waring {\n    color: $modal-alert;\n  }\n}\n.btn {\n  @extend %button-orange;\n  width: 88px;\n  height: 46px;\n  margin: 32px 24px auto auto;\n  font-size: 20px;\n  line-height: 30px;\n  &:disabled {\n    background: $form-input-placeholder;\n  }\n  .space{\n    width:100%;\n  }\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=055cfffa&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&id=055cfffa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"055cfffa\",\n  null\n  \n)\n\nexport default component.exports","var call = require('../internals/function-call');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (R) {\n  var flags = R.flags;\n  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)\n    ? call(regExpFlags, R) : flags;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&id=055cfffa&lang=scss&scoped=true&\""],"sourceRoot":""}